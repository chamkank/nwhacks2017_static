<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width">
    <link rel="image_src" href="//nwhacks.io/img/logotxt.png" />
    <meta property="og:description" content="nwHacks 2016 is the BIGGEST hackathon in Western Canada with over 600 hackers coming from around the region, on February in the University of British Columbia."/>
    <meta property="og:image" content="//nwhacks.io/img/logotxt_green.jpg" />
    <meta property="og:title" content="nwHacks Spring 2016" />
    <meta property="og:url" content="//nwhacks.io" />

    <link rel="icon" type="image/png" href="/static/favicon.png" />
    <link rel="stylesheet" href="/static/css/main.css">

    <script src="/static/bower_components/webcomponentsjs/webcomponents-lite.min.js"></script>
    <script src="/static/bower_components/moment/min/moment.min.js"></script>
    <script src="/static/bower_components/jquery/dist/jquery.min.js"></script>
    <script src="/static/bower_components/page/page.js"></script>

    <link rel="import" href="/static/bower_components/iron-ajax/iron-ajax.html">
    <link rel="import" href="/static/bower_components/iron-pages/iron-pages.html">
    <link rel="import" href="/static/bower_components/iron-form/iron-form.html">
    <link rel="import" href="/static/bower_components/iron-image/iron-image.html">
    <link rel="import" href="/static/bower_components/paper-button/paper-button.html">
    <link rel="import" href="/static/bower_components/paper-card/paper-card.html">
    <link rel="import" href="/static/bower_components/paper-checkbox/paper-checkbox.html">
    <link rel="import" href="/static/bower_components/paper-dialog/paper-dialog.html">
    <link rel="import" href="/static/bower_components/paper-dropdown-menu/paper-dropdown-menu.html">
    <link rel="import" href="/static/bower_components/paper-icon-button/paper-icon-button.html">
    <link rel="import" href="/static/bower_components/paper-input/paper-input.html">
    <link rel="import" href="/static/bower_components/paper-input/paper-textarea.html">
    <link rel="import" href="/static/bower_components/paper-item/paper-icon-item.html">
    <link rel="import" href="/static/bower_components/paper-item/paper-item.html">
    <link rel="import" href="/static/bower_components/paper-menu/paper-menu.html">
    <link rel="import" href="/static/bower_components/paper-progress/paper-progress.html">
    <link rel="import" href="/static/bower_components/paper-toolbar/paper-toolbar.html">

    <link rel="import" href="/static/components/index-page/index-page.html">
    <link rel="import" href="/static/components/register/register.html">
    <link rel="import" href="/static/components/select-hackers/select-hackers.html">
    <link rel="import" href="/static/components/sponsor-page/sponsor-page.html">
    <link rel="import" href="/static/components/schedule-box/schedule-box.html">
    <title>nwHacks 2016</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
  </head>
  <body>
    <template is="dom-bind" id="app">
      <a id="mlh-trust-badge" style="position:fixed;top:0;right:50px;max-width:100px;width:10%;min-width: 60px;display:block;z-index:10000" href="https://mlh.io/seasons/s2016/events?utm_source=s2016&utm_medium=TrustBadge&utm_campaign=s2016" target="_blank"><img src="https://s3.amazonaws.com/logged-assets/trust-badge/s2016.png" alt="MLH Official - Spring 2016" style="width:100%;" ></a>
      <nav id="menu">
        <a href="/#title">
          <paper-icon-button src="/static/svg/NWHacks-NavBar-Logo.svg"></paper-icon-button>
        </a>
        <a href="#intro" class="big">
          <paper-button>about</paper-button>
        </a>
        <a href="#faq" class="med">
          <paper-button>faq</paper-button>
        </a>
        <a href="#calendar">
          <paper-button>schedule</paper-button>
        </a>
        <a href="#sponsors" class="big">
          <paper-button>sponsors</paper-button>
        </a>
        <!--<a href="https://q.nwhacks.io">
          <paper-button>helpq</paper-button>
          </a>-->
          <a href="/register#register" class="right med">
            <paper-button>register</paper-button>
          </a>
      </nav>
      <div id="header">
        <div id="title">
          <div id="logos">
            <a href="/">
              <object data="/static/svg/NWHacks-Web-Logo.svg" type="image/svg+xml"></object>
            </a>
            <span class="title-sponsor">sponsored by
              <a href="https://www.privateinternetaccess.com/">
                <span class="home-top-brand-sponsor-logo">
                  <img src="/static/svg/logos/pia-logo-orig.svg" alt="Private Internet Access">
                </span>
              </a>
            </span>
          </div>
          <br>
          <div class="large-trapezoid">
            <h1>WESTERN CANADA'S LARGEST HACKATHON</h1>
            <h2>FEBRUARY 27-28 @ Fred Kaiser Building, UBC</h2>
          </div>
        </div>
        <div id="buttons">
          <a href="/register#register"><paper-button class="register">Register</paper-button></a>
          <a href="https://s2015nwhacks.devpost.com/"><paper-button class="button">previous hacks</paper-button></a>
          <br>
          <br>
          <br>
          <a href="/sponsors#sponsor" class="link">Interested in becoming a sponsor?</a>
        </div>
      </div>
      <div class="wrapper" id="begin">
        <iron-pages attr-for-selected="data-route" selected="{{route}}">
          <section data-route="home">
            <index-page></index-page>
          </section>
          <section data-route="register">
            <register-form></register-form>
          </section>
          <section data-route="select">
            <select-hackers></select-hackers>
          </section>
          <section data-route="sponsors">
            <sponsor-page></sponsor-page>
          </section>
        </iron-pages>
      </div>
      <footer>
        <div class="skyline">
          <object data="/static/svg/Skyline-Footer-Cropped.svg" type="image/svg+xml"></object>
        </div>
        <table class="foot">
          <tbody>
            <tr>
              <td class="small-middle">
                nwHacks Team
                <table>
                  <tbody>
                    <tr>
                      <td>
                        <a href="https://www.facebook.com/atsushi.yamamoto.7798">Atsushi Yamamoto</a>
                        <a href="https://www.facebook.com/davidbaldwin123">David Baldwynn</a>
                        <a href="https://www.rasky.co">Jerome Rasky</a>
                        <a href="https://www.facebook.com/lansichu">Lansi Chu</a>
                      </td>
                      <td>
                        <a href="https://www.facebook.com/ixxuul">Luxi Xu</a>
                        <a href="https://fn.lc">Tristan Rice</a>
                        <a href="https://www.facebook.com/max.leung.31">Max Leung</a>
                      </td>
                      <td></td>
                    </tr>
                  </tbody>
                </table>
                <br>
              </td>
              <td class="small-first">
                <nav class="grid-container">
                  <a href="/sponsors#sponsor">Become a Sponsor</a>
                  <a href="mailto:sponsorship@nwhacks.io">Email us</a>
                  <a href="http://mlh.io/code-of-conduct">Code of Conduct </a>
                </nav>
                <br>
              </td>
              <td class="small-last">
                Organised and held by <a href="//www.startupstorm.org/" target="_blank">StartupStorm</a>
              </td>
            </tr>
            <tbody>
        </table>
      </footer>
      <div id="starContainer"></div>
    </template>
    <script>
      'use strict';
      var app = document.querySelector("#app");
      page('*', function(ctx, next) {
        next();
        setTimeout(function() {
          renderStars();
          var hash;
          var match = window.location.hash.match(/\#\w+/);
          if (match != null) {
            hash = match[0];
          }
          if (hash != null) {
            var elem = document.querySelector(hash);
            if (elem == null || elem.offsetTop == 0) {
              return;
            }
            window.scrollTo(0,elem.offsetTop - 100);
          }
        },100);
      });
      page('/register*', function() {
        app.route = 'register';
      });
      page('/sponsors*', function() {
        app.route = 'sponsors';
      });
      page('/select*', function() {
        app.route = 'select';
      });
      page('/*', function() {
        app.route = 'home';
      });
      // 404
      page('*', function() {
        console.log("404!");
        page.redirect(app.baseUrl);
      });
      // add #! before urls
      page({
        hashbang: true
      });
      function posValid(boxes, x, y) {
        for (var i = 0; i < boxes.length; i++) {
          var box = boxes[i];
          if (box.left < x && box.right > x && box.top < y && box.bottom > y) {
            return false;
          }
        }
        return true;
      }
      function renderStars() {
        var starsDiv = document.querySelector("#starContainer");
        if (!starsDiv) {
          return;
        }
        starsDiv.innerHTML = "";
        if (app.route !== 'home') {
          return;
        }
        var trapezoid = document.querySelector("#title .large-trapezoid");
        if (!trapezoid) {
          return;
        }
        var top = trapezoid.offsetTop;
        var bottom = document.querySelector("#faq h1").offsetTop + 30;
        var starSize = 20;
        var margin = 15;
        var elems = document.querySelectorAll("h1, paper-button, p, .large-trapezoid, .link");
        var body = document.body.getBoundingClientRect();
        console.log(body);
        var boxes = Array.prototype.map.call(elems, function(obj) {
          var elem = obj.getBoundingClientRect();
          return {
            left: elem.left - body.left - starSize - margin,
            top: elem.top - body.top - starSize - margin,
            right: elem.right - body.left + margin,
            bottom: elem.bottom - body.top + margin,
          };
        });
        console.log(boxes);
        var starHTML = "";
        var starCount = window.innerWidth/ 30;
        for(var i=0; i<starCount; i++) {
          var x = 0;
          var y = 0;
          while ((x == 0 && y == 0) || !posValid(boxes, x, y)) {
            x = Math.random() * (window.innerWidth-starSize-margin*2)+margin;
            y = Math.random() * (bottom-top) + top;
          }
          var size = (Math.random() * starSize).toFixed(0);
          starHTML += '<star style="width:'+size+'px;height:'+size+'px;left:'+x.toFixed(0)+'px;top:'+y.toFixed(0)+'px"></star>';
        }
        starsDiv.innerHTML = starHTML;
      }
      var timeout;
      function stars() {
        clearTimeout(timeout);
        timeout = setTimeout(renderStars, 100);
      }
      var lastWidth = window.innerWidth;
      window.addEventListener("resize", function() {
        if (window.innerWidth !== lastWidth) {
          stars();
          lastWidth = window.innerWidth;
        }
      });
      window.addEventListener('WebComponentsReady', function(e) {
        console.log('WebComponentsReady');
        stars();
      });
    </script>
    <script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-72252235-1', 'auto');
ga('send', 'pageview');

    </script>
  </body>
</html>
